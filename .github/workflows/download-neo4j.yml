name: download-neo4j

on: [push]

jobs:
  job_1:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Set up Python 3.10
      uses: actions/setup-python@v3
      with:
        python-version: '3.10'
    - name: Download Neo4j
      run: wget -O - https://debian.neo4j.com/neotechnology.gpg.key | sudo apt-key add -
           echo 'deb https://debian.neo4j.com stable 5' | sudo tee -a /etc/apt/sources.list.d/neo4j.list
           #apt list -a neo4j; sudo apt-get update
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements-tests.txt
        echo 'Downloading OSF data...';
        osf -p 6jtc9 fetch Datasets/Datasets.zip Datasets.zip;
        echo 'Finished Download....';
        ls;
        echo 'Unzipping...';
        unzip Datasets.zip;
        echo '--------------------'
        ls PetagraphData
    - name: Test neo4j
      run: ls /bin ; /bin/neo4j
    

